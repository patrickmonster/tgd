<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tmp</title>
    <script src="javascript/jwt-decode.js"></script>
    <!-- <script src="https://patrickmonster.github.io/effect/v.5/engin.js"></script> -->
    <!-- <script src="javascript/engin.V.1.js"></script> -->
    <script src="../effect/v.5/engin.js"></script>
    <style>
      body {
        background-color: black;
      }
    </style>
  </head>
  <body></body>
  <script>
    function getQuery() {
      const query = document.location.search.substring(1).split("&");
      const out = {};
      query.forEach((o) => {
        const obj = o.split("=");
        if (out[obj[0]]) {
          if (typeof out[obj[0]] === "object" && out[obj[0]].length) {
            out[obj[0]].push(obj[1]);
          } else {
            const tmp = out[obj[0]];
            out[obj[0]] = [obj[1], tmp];
          }
        } else out[obj[0]] = obj[1];
      });
      return out;
    }
    const query = getQuery();
    console.log(query);
    if (typeof query.token === "string") {
      query.object = jwt_decode(query.token, { header: true });
    } else {
      query.object = [];
      query.token.forEach((o) => {
        console.log(o);
        query.object.push(jwt_decode(o, { header: true }));
      });
    }

    if (query.object.length) query.object.forEach((o) => window.EFFECT(o));
    else window.EFFECT(query.object);
    // document.writeln(JSON.stringify(query));
  </script>
  <!-- 
      토큰값
      eyJjb2xvciI6IiM5YmZjOGUiLCJsb2NhdGlvbiI6Wy0xLC0yMDAsLTQsLTJdLCJzaXplIjpbMSw1MF0sInNwZWVkIjpbMSwxLjhdLCJkZWxheSI6WzEsMTAwMF0sImNvdW50Ijo1MCwiaXNCb2R5U2Nyb2xsIjp0cnVlLCJhbmltYXRpb25GdW5jdGlvbiI6WyJyb3RhdGUiXSwic3ViU3R5bGUiOnsicm90YXRlUCI6WzAuMSw1XX19
      {
      "color": "#9bfc8e",
      "location": [-1, -200, -4, -2],
      "size": [1, 50],
      "speed": [1, 1.8],
      "delay": [1, 1000],
      "count": 50,
      "isBodyScroll": true,
      "animationFunction": ["rotate"],
      "subStyle": { "rotateP": [0.1, 5] },
    }
   -->
</html>
